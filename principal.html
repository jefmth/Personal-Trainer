<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Personal Trainer</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a2d9a64b7c.js" crossorigin="anonymous"></script>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo">
                <h1>Painel do Personal</h1>
            </div>
            <button id="logoutBtn" class="btn-secondary">Sair</button>
        </div>
    </header>

    <main class="dashboard-container">
        <div class="welcome-banner">
            <h2 id="welcomeMessage">Bem-vindo, Personal!</h2>
            <p>Gerencie seus alunos e treinos de forma eficiente</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <h3><i class="fas fa-users"></i> Total de Alunos</h3>
                <p id="totalAlunos">0</p>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-running"></i> Treinos Ativos</h3>
                <p id="treinosAtivos">0</p>
            </div>
            <div class="stat-card">
                <h3><i class="fas fa-calendar-alt"></i> Pr√≥ximas Aulas</h3>
                <p id="proximasAulas">0</p>
            </div>
        </div>
        
        <div class="actions">
            <button class="btn-primary">
                <i class="fas fa-users-cog"></i> Gerenciar Alunos
            </button>
            <button class="btn-primary">
                <i class="fas fa-dumbbell"></i> Criar Treino
            </button>
            <button class="btn-primary">
                <i class="fas fa-calendar"></i> Agenda
            </button>
            <button class="btn-primary">
                <i class="fas fa-chart-line"></i> Financeiro
            </button>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import { getAuth, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyCBfVkEt9-KsYnNxQut8g8wC9Z5arqTBrw",
            authDomain: "personal-trainer-app-a3c87.firebaseapp.com",
            projectId: "personal-trainer-app-a3c87",
            storageBucket: "personal-trainer-app-a3c87.firebasestorage.app",
            messagingSenderId: "617665511475",
            appId: "1:617665511475:web:4637183afd71f685a5e346"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        const personalName = localStorage.getItem('personalName');
        if (personalName) {
            document.getElementById('welcomeMessage').textContent = `Bem-vindo, ${personalName}!`;
        }

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', () => {
            signOut(auth).then(() => {
                localStorage.clear();
                window.location.href = "index.html";
            });
        });

        // Bloquear acesso sem login
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                window.location.href = "index.html";
            }
        });
    </script>
</body>
</html>
